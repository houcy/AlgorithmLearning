# 中缀表达式求值


## 从中缀表达式转后缀

1. 如遇到操作数，直接输出到后缀的队列里。
2. 如果遇到操作符(包括括号)，这里再定义一个存放操作符的栈，则:
    1. 如果操作符是 ( ,入栈
    2. 如果操作符是 ) ,则把栈里的操作符依次出栈并插入到后缀序列后面，直到遇到一个 ( .
    3. 如果操作符不是 ( 和 ) ,则：
        * 如果操作符的优先级比栈顶运算符的优先级高，则入栈
        * 如果操作符优先级等于或小于栈顶运算符优先级，则将栈顶运算符出栈并插入到后缀序列后面，出栈后,再比较栈顶元素的优先级，
    4. 重复3，直到能把此操作符插入，将此操作符入栈。
3. 如果中序队列里的数据已经读取完毕，记录操作符的栈里，还有操作符的话，依次出栈插入到后缀序列的后面

后缀表达式求值不再赘述

### 注意

- `C#` 源码, `*.cs`, 使用 `double` 计算, 无精度问题
- `Java` 源码 `*.java`, 分别使用 `double` 和 `BigDecimal` 类处理, 其中使用 `double` 类型的在 `JDK12` 下会有精度问题, 例如著名的 `0.1 + 0.2 != 0.3 ` 的问题，使用 `BigDecimal` 类可以解决, 但是要注意, `Java` 不支持运算符重载, 因此 `BigDecimal` 类的运算要使用 `left.add(right)` 这种形式, `C#`不仅支持运算符重载还有 `decimal` 关键字, 该类型使用 128 bit 保存浮点数, 精度可达 10^-28 级别.

